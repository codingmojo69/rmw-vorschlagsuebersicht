// prisma/schema.prisma

generator client {
  provider        = "prisma-client-js"
  // Das brauchen wir für den Adapter, den wir vorhin eingerichtet haben
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider  = "postgresql"
  // PRISMA 6 STANDARD: Die URLs müssen hier stehen!
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Item {
  id                String   @id @default(cuid())
  modelKey          String
  area              String
  furnitureType     String

  // EXAKTE MASSE (cm)
  widthCm           Float
  heightCm          Float
  depthCm           Float

  imageUrl          String
  suggestionNumbers Json
  headline          String?
  raster            String?
  baseType          String?
  styleTags         Json

  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

model DimensionDefinition {
  id        String  @id @default(cuid())
  area      String
  dimension String
  key       String
  minCm     Float?
  maxCm     Float?
  createdAt DateTime @default(now())
}

// Deine Enums
enum ModelKey {
  HARMONY
  DEVISO
  CONCETTO
  SIENA
  LAVITA
  ENJOY
  MANHATTAN
  BRISTOL
  ALLEGRO
  DACAPO
  CENTO
  OPUS
}

enum Area {
  BUERO
  WOHNEN
  SPEISEN
  GARDEROBE
  SCHLAFEN
}

enum FurnitureType {
  SIDEBOARD
  LOWBOARD
  HIGHBOARD
  VITRINE
  KORPUSELEMENT
  SCHRANK
  REGAL
}

enum Raster {
  RASTER_1_5
  RASTER_2
  RASTER_2_5
  RASTER_3
  RASTER_4
  RASTER_5
}

enum BaseType {
  FEET
  FRAME
}

enum DepthCategory {
  SLIM
  STANDARD
  DEEP
}