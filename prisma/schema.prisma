// prisma/schema.prisma

generator client {
  provider        = "prisma-client-js"
  // WICHTIG: Das hier erlaubt den Adapter-Code in src/lib/prisma.ts
  previewFeatures = ["driverAdapters"] 
}

datasource db {
  provider  = "postgresql"
  // WICHTIG: Die Verkn√ºpfung zu deinen Vercel-Variablen
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Item {
  id                String   @id @default(cuid())
  modelKey          String
  area              String
  furnitureType     String

  // EXAKTE MASSE (cm)
  widthCm           Float
  heightCm          Float
  depthCm           Float

  imageUrl          String
  suggestionNumbers Json
  headline          String?
  raster            String?
  baseType          String?
  styleTags         Json

  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

model DimensionDefinition {
  id        String  @id @default(cuid())

  // Kontext
  area      String   // WOHNEN, BUERO, GARDEROBE, ...
  dimension String   // DEPTH | WIDTH | HEIGHT

  // Ergebnis
  key       String   // SLIM | STANDARD | DEEP | LOW | HIGH | ROOM_HIGH

  // Wertebereich in cm
  minCm     Float?
  maxCm     Float?

  createdAt DateTime @default(now())
}

// Deine Enums bleiben gleich
enum ModelKey {
  HARMONY
  DEVISO
  CONCETTO
  SIENA
  LAVITA
  ENJOY
  MANHATTAN
  BRISTOL
  ALLEGRO
  DACAPO
  CENTO
  OPUS
}

enum Area {
  BUERO
  WOHNEN
  SPEISEN
  GARDEROBE
  SCHLAFEN
}

enum FurnitureType {
  SIDEBOARD
  LOWBOARD
  HIGHBOARD
  VITRINE
  KORPUSELEMENT
  SCHRANK
  REGAL
}

enum Raster {
  RASTER_1_5
  RASTER_2
  RASTER_2_5
  RASTER_3
  RASTER_4
  RASTER_5
}

enum BaseType {
  FEET
  FRAME
}

enum DepthCategory {
  SLIM
  STANDARD
  DEEP
}